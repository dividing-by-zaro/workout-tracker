# Implementation Plan: Visual Redesign — Fire Theme

**Branch**: `002-visual-redesign` | **Date**: 2026-02-22 | **Spec**: [spec.md](spec.md)
**Input**: Feature specification from `specs/002-visual-redesign/spec.md`

## Summary

Transform Kiln from a dark theme to a warm light theme with fire/ember undertones. The redesign updates the centralized DesignSystem color tokens (8 → 14), adds warm-tinted shadows and a grain texture overlay, and propagates changes across all 16 view files. No data model or navigation changes — purely cosmetic. The app forces light mode regardless of system setting.

## Technical Context

**Language/Version**: Swift 5.9+ / SwiftUI
**Primary Dependencies**: SwiftUI, Swift Charts, SwiftData (unchanged), UserNotifications (unchanged)
**Storage**: SwiftData (unchanged — no model changes)
**Testing**: Visual inspection (Xcode previews + simulator walkthrough), contrast ratio verification
**Target Platform**: iOS 17+ (iPhone)
**Project Type**: Mobile app (iOS)
**Performance Goals**: 60 fps maintained — grain overlay must not cause frame drops
**Constraints**: All color tokens centralized in DesignSystem.swift, WCAG AA contrast compliance
**Scale/Scope**: 16 view files + 1 design system file + 1 config file + 1 new image asset

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Status | Notes |
|-----------|--------|-------|
| I. Zero Data Loss | PASS | No data model changes — cosmetic only |
| II. Minimal Friction | PASS | No navigation or interaction changes |
| III. Timer Reliability | PASS | Timer logic unchanged — only visual tokens updated |
| IV. Live Activity First | PASS | Live Activity not yet implemented; no conflict |
| V. Beautiful & Joyful Design | **ALIGNS** | This feature directly serves this principle — warm, characterful visual identity |
| VI. Single-User Simplicity | PASS | No auth or multi-user implications |
| VII. Data Portability | PASS | No import/export changes |

**Post-Phase 1 re-check**: All gates still pass. The design introduces no new dependencies, no data model changes, and no architectural complexity. Typography, spacing, and color remain defined in a single DesignSystem file per Principle V.

## Project Structure

### Documentation (this feature)

```text
specs/002-visual-redesign/
├── plan.md              # This file
├── research.md          # Grain texture, shadows, light mode, palette research
├── data-model.md        # Design token definitions (color, shadow, grain, radius)
├── quickstart.md        # Build & run instructions
└── tasks.md             # (Generated by /speckit.tasks — not created by /speckit.plan)
```

### Source Code (repository root)

```text
Kiln/
├── KilnApp.swift                           # Add .preferredColorScheme(.light)
├── Design/
│   └── DesignSystem.swift                  # Complete palette rewrite + new Shadow/Grain/CornerRadius sections
├── Views/
│   ├── ContentView.swift                   # Tab bar warm dark appearance
│   ├── Workout/
│   │   ├── StartWorkoutView.swift          # Grain background
│   │   ├── ActiveWorkoutView.swift         # Grain background, shadows, fix hardcoded colors
│   │   ├── TemplateCardView.swift          # Card shadows, grain, fix hardcoded .white
│   │   ├── ExerciseCardView.swift          # Card shadows
│   │   ├── SetRowView.swift               # Input styling, success color
│   │   ├── RestTimerView.swift             # Timer ember tones
│   │   └── ExercisePickerView.swift        # Form/list appearance
│   ├── Templates/
│   │   ├── TemplateEditorView.swift        # Form appearance, fix .secondary
│   │   └── TemplateExerciseRow.swift       # Secondary color alignment
│   ├── History/
│   │   ├── HistoryListView.swift           # Grain background
│   │   ├── WorkoutCardView.swift           # Card shadows
│   │   └── WorkoutDetailView.swift         # Background, card shadows
│   └── Profile/
│       ├── ProfileView.swift               # Background, card shadows, icon color
│       └── WorkoutsPerWeekChart.swift       # Bar chart accent
├── Assets.xcassets/
│   └── noise_tile.imageset/                # NEW: 200x200 seamless noise PNG (1x, 2x, 3x)
project.yml                                 # Add UIUserInterfaceStyle: Light to Info.plist
```

**Structure Decision**: No new directories or structural changes. All modifications happen within the existing file layout. One new image asset (`noise_tile`) is added to the existing asset catalog, and DesignSystem.swift is expanded in place.

## Complexity Tracking

No constitution violations — table not needed.
